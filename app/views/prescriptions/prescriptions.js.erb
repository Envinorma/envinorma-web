var prescriptions = document.querySelector("#prescriptions_recap");
prescriptions.innerHTML = "<%= j render partial: 'prescriptions_recap' %>";

var counter = document.querySelector(".counter");
counter.innerHTML = "<%= @counter %>"

// Clear inputs after submitting prescription form from AP
<% if @from_ap %>
  var reference_inputs = document.querySelectorAll(".prescription_reference input");
  var content_inputs = document.querySelectorAll(".prescription_content textarea");

  for (const reference_input of reference_inputs) {
    reference_input.value = ""
  }

  for (const content_input of content_inputs) {
    content_input.value = ""
  }
<% end %>

// display modal
<% if @modal %>
  var modal = document.getElementById('modalPrescriptions');
  modal.classList.add("open");
  var exits = modal.querySelectorAll(".modal-exit");
  exits.forEach(function (exit) {
    exit.addEventListener("click", function (event) {
      event.preventDefault();
      modal.classList.remove("open");
    });
  });
<% end %>
